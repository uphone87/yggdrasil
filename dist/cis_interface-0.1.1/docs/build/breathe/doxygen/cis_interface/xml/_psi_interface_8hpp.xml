<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.13">
  <compounddef id="_psi_interface_8hpp" kind="file" language="C++">
    <compoundname>PsiInterface.hpp</compoundname>
    <includes local="no">sys/stat.h</includes>
    <includes local="no">sys/msg.h</includes>
    <includes local="no">sys/sem.h</includes>
    <includes local="no">sys/shm.h</includes>
    <includes local="no">stdlib.h</includes>
    <includes refid="_psi_interface_8h" local="yes">PsiInterface.h</includes>
    <includes local="no">string</includes>
    <includes local="no">regex</includes>
    <incdepgraph>
      <node id="38">
        <label>sys/stat.h</label>
      </node>
      <node id="48">
        <label>stdarg.h</label>
      </node>
      <node id="53">
        <label>../dataio/AsciiTable.h</label>
        <link refid="_ascii_table_8h_source"/>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
      </node>
      <node id="42">
        <label>stdlib.h</label>
      </node>
      <node id="41">
        <label>sys/shm.h</label>
      </node>
      <node id="39">
        <label>sys/msg.h</label>
      </node>
      <node id="50">
        <label>errno.h</label>
      </node>
      <node id="44">
        <label>fcntl.h</label>
      </node>
      <node id="54">
        <label>string</label>
      </node>
      <node id="55">
        <label>regex</label>
      </node>
      <node id="40">
        <label>sys/sem.h</label>
      </node>
      <node id="37">
        <label>/home/ubuntu/langmm/cis_iterface/cis_interface/interface/PsiInterface.hpp</label>
        <link refid="_psi_interface_8hpp"/>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="43" relation="include">
        </childnode>
        <childnode refid="54" relation="include">
        </childnode>
        <childnode refid="55" relation="include">
        </childnode>
      </node>
      <node id="45">
        <label>sys/types.h</label>
      </node>
      <node id="46">
        <label>string.h</label>
      </node>
      <node id="49">
        <label>unistd.h</label>
      </node>
      <node id="52">
        <label>../dataio/AsciiFile.h</label>
        <link refid="_ascii_file_8h_source"/>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
      </node>
      <node id="43">
        <label>PsiInterface.h</label>
        <link refid="_psi_interface_8h_source"/>
        <childnode refid="44" relation="include">
        </childnode>
        <childnode refid="38" relation="include">
        </childnode>
        <childnode refid="39" relation="include">
        </childnode>
        <childnode refid="45" relation="include">
        </childnode>
        <childnode refid="40" relation="include">
        </childnode>
        <childnode refid="41" relation="include">
        </childnode>
        <childnode refid="46" relation="include">
        </childnode>
        <childnode refid="47" relation="include">
        </childnode>
        <childnode refid="42" relation="include">
        </childnode>
        <childnode refid="48" relation="include">
        </childnode>
        <childnode refid="49" relation="include">
        </childnode>
        <childnode refid="50" relation="include">
        </childnode>
        <childnode refid="51" relation="include">
        </childnode>
        <childnode refid="52" relation="include">
        </childnode>
        <childnode refid="53" relation="include">
        </childnode>
      </node>
      <node id="51">
        <label>regex.h</label>
      </node>
      <node id="47">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="class_psi_input" prot="public">PsiInput</innerclass>
    <innerclass refid="class_psi_output" prot="public">PsiOutput</innerclass>
    <innerclass refid="class_psi_rpc" prot="public">PsiRpc</innerclass>
    <innerclass refid="class_psi_rpc_server" prot="public">PsiRpcServer</innerclass>
    <innerclass refid="class_psi_rpc_client" prot="public">PsiRpcClient</innerclass>
    <innerclass refid="class_psi_ascii_file_output" prot="public">PsiAsciiFileOutput</innerclass>
    <innerclass refid="class_psi_ascii_file_input" prot="public">PsiAsciiFileInput</innerclass>
    <innerclass refid="class_psi_ascii_table_output" prot="public">PsiAsciiTableOutput</innerclass>
    <innerclass refid="class_psi_ascii_table_input" prot="public">PsiAsciiTableInput</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;C&quot;</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/stat.h&gt;</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>For<sp/>mode<sp/>constants<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/msg.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/sem.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;sys/shm.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;PsiInterface.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal">};</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;regex&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="21" refid="class_psi_input" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_psi_input" kindref="compound">PsiInput</ref><sp/>{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><ref refid="structpsi_input__t" kindref="compound">psiInput_t</ref><sp/>_pi;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="class_psi_input_1ac796a2dbddfc6b6aa54841d8c762cc6c" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_input_1ac796a2dbddfc6b6aa54841d8c762cc6c" kindref="member">PsiInput</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name)<sp/>:<sp/>_pi(psiInput(name))<sp/>{}</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="41" refid="class_psi_input_1a480b3f1424806a23c3a1c77d590eb216" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_input_1a480b3f1424806a23c3a1c77d590eb216" kindref="member">recv</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*data,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>len)<sp/>{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>psi_recv(_pi,<sp/>data,<sp/>len);</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="54" refid="class_psi_input_1a9410879a8e96915adcad5d6ebb5f224c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_input_1a9410879a8e96915adcad5d6ebb5f224c" kindref="member">recv_nolimit</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**data,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>len)<sp/>{</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>psi_recv_nolimit(_pi,<sp/>data,<sp/>len);</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="57"><highlight class="normal">};</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="68" refid="class_psi_output" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_psi_output" kindref="compound">PsiOutput</ref><sp/>{</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><ref refid="structpsi_output__t" kindref="compound">psiOutput_t</ref><sp/>_pi;</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="77" refid="class_psi_output_1a40a8752bfc87e83bb9671b737f7506aa" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_output_1a40a8752bfc87e83bb9671b737f7506aa" kindref="member">PsiOutput</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name)<sp/>:<sp/>_pi(psiOutput(name))<sp/>{}</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="87" refid="class_psi_output_1a5cdad4b95c12f7ac7dcc8c4a7e7c8104" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_output_1a5cdad4b95c12f7ac7dcc8c4a7e7c8104" kindref="member">send</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*data,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>len)<sp/>{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>psi_send(_pi,<sp/>data,<sp/>len);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="98" refid="class_psi_output_1a8cc6c40e56f1d7570d1f1dca477ade5d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_output_1a8cc6c40e56f1d7570d1f1dca477ade5d" kindref="member">send_nolimit</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*data,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>len)<sp/>{</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>psi_send_nolimit(_pi,<sp/>data,<sp/>len);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="101"><highlight class="normal">};</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="112" refid="class_psi_rpc" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_psi_rpc" kindref="compound">PsiRpc</ref><sp/>{</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><ref refid="structpsi_rpc__t" kindref="compound">psiRpc_t</ref><sp/>_pi;</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight></codeline>
<codeline lineno="125" refid="class_psi_rpc_1a59e6a3c10d5d3b8b5ddbad8272c21609" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_rpc_1a59e6a3c10d5d3b8b5ddbad8272c21609" kindref="member">PsiRpc</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*outName,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*outFormat,</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*inName,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*inFormat)<sp/>:</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>_pi(psiRpc(outName,<sp/>outFormat,<sp/>inName,<sp/>inFormat))<sp/>{}</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="133" refid="class_psi_rpc_1a2dea366d618c566f39549593808a91ab" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="structpsi_rpc__t" kindref="compound">psiRpc_t</ref><sp/><ref refid="class_psi_rpc_1a2dea366d618c566f39549593808a91ab" kindref="member">pi</ref>()<sp/>{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>_pi;</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/>};</highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="145" refid="class_psi_rpc_1a9a24ea2c10ec433ce2571714659e8156" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_rpc_1a9a24ea2c10ec433ce2571714659e8156" kindref="member">send</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nargs,<sp/>...)<sp/>{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nargs<sp/>!=<sp/>_pi.<ref refid="structpsi_rpc__t_1a17f0094559da23188f3782d9cca1157a" kindref="member">_output</ref>.<ref refid="structpsi_output__t_1a8ce9cd65bd278b405de93b96c595e33b" kindref="member">_nfmt</ref>)<sp/>{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>error(</highlight><highlight class="stringliteral">&quot;PsiRpc(%s).send:<sp/>%d<sp/>args<sp/>provided,<sp/>but<sp/>format<sp/>expects<sp/>%d.\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_pi.<ref refid="structpsi_rpc__t_1a17f0094559da23188f3782d9cca1157a" kindref="member">_output</ref>.<ref refid="structpsi_output__t_1aee98b6f91ada5813222b6d0e70ee5223" kindref="member">_name</ref>,<sp/>nargs,<sp/>_pi.<ref refid="structpsi_rpc__t_1a17f0094559da23188f3782d9cca1157a" kindref="member">_output</ref>.<ref refid="structpsi_output__t_1a8ce9cd65bd278b405de93b96c595e33b" kindref="member">_nfmt</ref>);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>va_list<sp/>va;</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/>va_start(va,<sp/>nargs);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret<sp/>=<sp/>vrpcSend(_pi,<sp/>va);</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/>va_end(va);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight></codeline>
<codeline lineno="168" refid="class_psi_rpc_1a4f66919b86a358644d73c686b9a6b409" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_rpc_1a4f66919b86a358644d73c686b9a6b409" kindref="member">recv</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nargs,<sp/>...)<sp/>{</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nargs<sp/>!=<sp/>_pi.<ref refid="structpsi_rpc__t_1a957a8bcaac05ec113b43b6ba77915ec3" kindref="member">_input</ref>.<ref refid="structpsi_input__t_1a9496391ef31330ad5ea299c578f60be1" kindref="member">_nfmt</ref>)<sp/>{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>error(</highlight><highlight class="stringliteral">&quot;PsiRpc(%s).recv:<sp/>%d<sp/>args<sp/>provided,<sp/>but<sp/>format<sp/>expects<sp/>%d.\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_pi.<ref refid="structpsi_rpc__t_1a957a8bcaac05ec113b43b6ba77915ec3" kindref="member">_input</ref>.<ref refid="structpsi_input__t_1af043731e8bd403a4b6daa6d2dfc0bfbb" kindref="member">_name</ref>,<sp/>nargs,<sp/>_pi.<ref refid="structpsi_rpc__t_1a957a8bcaac05ec113b43b6ba77915ec3" kindref="member">_input</ref>.<ref refid="structpsi_input__t_1a9496391ef31330ad5ea299c578f60be1" kindref="member">_nfmt</ref>);</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>va_list<sp/>va;</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/>va_start(va,<sp/>nargs);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret<sp/>=<sp/>vrpcRecv(_pi,<sp/>va);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/>va_end(va);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="180"><highlight class="normal">};</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="191" refid="class_psi_rpc_server" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_psi_rpc_server" kindref="compound">PsiRpcServer</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_psi_rpc" kindref="compound">PsiRpc</ref><sp/>{</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="193"><highlight class="normal"></highlight></codeline>
<codeline lineno="203" refid="class_psi_rpc_server_1ab59731cec82271493e4534e43d3756b7" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_rpc_server_1ab59731cec82271493e4534e43d3756b7" kindref="member">PsiRpcServer</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*inFormat,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*outFormat)<sp/>:</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_psi_rpc" kindref="compound">PsiRpc</ref>(name,<sp/>outFormat,<sp/>name,<sp/>inFormat)<sp/>{}</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal">};</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="217" refid="class_psi_rpc_client" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_psi_rpc_client" kindref="compound">PsiRpcClient</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="class_psi_rpc" kindref="compound">PsiRpc</ref><sp/>{</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="229" refid="class_psi_rpc_client_1a77a4dd609c4bd82862bea5fc0651ba02" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_rpc_client_1a77a4dd609c4bd82862bea5fc0651ba02" kindref="member">PsiRpcClient</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*outFormat,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*inFormat)<sp/>:</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_psi_rpc" kindref="compound">PsiRpc</ref>(name,<sp/>outFormat,<sp/>name,<sp/>inFormat)<sp/>{</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="245" refid="class_psi_rpc_client_1a214010682c81e31783a62773f7b9f788" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_rpc_client_1a214010682c81e31783a62773f7b9f788" kindref="member">call</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nargs,<sp/>...)<sp/>{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structpsi_rpc__t" kindref="compound">psiRpc_t</ref><sp/>_cpi<sp/>=<sp/>pi();</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nfmt_tot<sp/>=<sp/>_cpi.<ref refid="structpsi_rpc__t_1a17f0094559da23188f3782d9cca1157a" kindref="member">_output</ref>.<ref refid="structpsi_output__t_1a8ce9cd65bd278b405de93b96c595e33b" kindref="member">_nfmt</ref><sp/>+<sp/>_cpi.<ref refid="structpsi_rpc__t_1a957a8bcaac05ec113b43b6ba77915ec3" kindref="member">_input</ref>.<ref refid="structpsi_input__t_1a9496391ef31330ad5ea299c578f60be1" kindref="member">_nfmt</ref>;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nargs<sp/>!=<sp/>nfmt_tot)<sp/>{</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>error(</highlight><highlight class="stringliteral">&quot;PsiRpcClient(%s).call:<sp/>%d<sp/>args<sp/>provided,<sp/>but<sp/>format<sp/>expects<sp/>%d.\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_cpi.<ref refid="structpsi_rpc__t_1a17f0094559da23188f3782d9cca1157a" kindref="member">_output</ref>.<ref refid="structpsi_output__t_1aee98b6f91ada5813222b6d0e70ee5223" kindref="member">_name</ref>,<sp/>nargs,<sp/>nfmt_tot);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>va_list<sp/>va;</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/>va_start(va,<sp/>nargs);</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret<sp/>=<sp/>vrpcCall(_cpi,<sp/>va);</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>va_end(va);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="260"><highlight class="normal">};</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="271" refid="class_psi_ascii_file_output" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_psi_ascii_file_output" kindref="compound">PsiAsciiFileOutput</ref><sp/>{</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><ref refid="structpsi_ascii_file_output__t" kindref="compound">psiAsciiFileOutput_t</ref><sp/>_pi;</highlight></codeline>
<codeline lineno="273"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="282" refid="class_psi_ascii_file_output_1a08f5ec347f018509dcdd6b7405e15e36" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_ascii_file_output_1a08f5ec347f018509dcdd6b7405e15e36" kindref="member">PsiAsciiFileOutput</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dst_type<sp/>=<sp/>1)<sp/>:</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/>_pi(psiAsciiFileOutput(name,<sp/>dst_type))<sp/>{}</highlight></codeline>
<codeline lineno="288" refid="class_psi_ascii_file_output_1a616fa02af7a51f36d62e2aa109035072" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_ascii_file_output_1a616fa02af7a51f36d62e2aa109035072" kindref="member">~PsiAsciiFileOutput</ref>()<sp/>{<sp/>cleanup_pafo(&amp;_pi);<sp/>}</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="295" refid="class_psi_ascii_file_output_1a9173658e711537902ea50bf8c3b5b292" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_file_output_1a9173658e711537902ea50bf8c3b5b292" kindref="member">send_eof</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>af_send_eof(_pi);<sp/>}</highlight></codeline>
<codeline lineno="302" refid="class_psi_ascii_file_output_1ad90b9b03bdf05f14be85fe0735df60a9" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_file_output_1ad90b9b03bdf05f14be85fe0735df60a9" kindref="member">send_line</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*line)<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>af_send_line(_pi,<sp/>line);<sp/>}</highlight></codeline>
<codeline lineno="303"><highlight class="normal"></highlight></codeline>
<codeline lineno="304"><highlight class="normal">};</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="315" refid="class_psi_ascii_file_input" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_psi_ascii_file_input" kindref="compound">PsiAsciiFileInput</ref><sp/>{</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><ref refid="structpsi_ascii_file_input__t" kindref="compound">psiAsciiFileInput_t</ref><sp/>_pi;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="318"><highlight class="normal"></highlight></codeline>
<codeline lineno="326" refid="class_psi_ascii_file_input_1aaf0db20856965c11699fc8d3f22562bc" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_ascii_file_input_1aaf0db20856965c11699fc8d3f22562bc" kindref="member">PsiAsciiFileInput</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>src_type<sp/>=<sp/>1)<sp/>:</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/>_pi(psiAsciiFileInput(name,<sp/>src_type))<sp/>{}</highlight></codeline>
<codeline lineno="332" refid="class_psi_ascii_file_input_1a9e4b866a3986c47ca87309380f8c9c9c" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_ascii_file_input_1a9e4b866a3986c47ca87309380f8c9c9c" kindref="member">~PsiAsciiFileInput</ref>()<sp/>{<sp/>cleanup_pafi(&amp;_pi);<sp/>}</highlight></codeline>
<codeline lineno="333"><highlight class="normal"></highlight></codeline>
<codeline lineno="343" refid="class_psi_ascii_file_input_1a75d19d237c5166654bea8360ac4a4056" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_file_input_1a75d19d237c5166654bea8360ac4a4056" kindref="member">recv_line</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*line,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>n)<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>af_recv_line(_pi,<sp/>line,<sp/>n);<sp/>}</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="345"><highlight class="normal">};</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="356" refid="class_psi_ascii_table_output" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_psi_ascii_table_output" kindref="compound">PsiAsciiTableOutput</ref><sp/>{</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><ref refid="structpsi_ascii_table_output__t" kindref="compound">psiAsciiTableOutput_t</ref><sp/>_pi;</highlight></codeline>
<codeline lineno="358"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="359"><highlight class="normal"></highlight></codeline>
<codeline lineno="369" refid="class_psi_ascii_table_output_1a4ed7d46502d5a0212761c9403775237c" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_ascii_table_output_1a4ed7d46502d5a0212761c9403775237c" kindref="member">PsiAsciiTableOutput</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*format_str,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>dst_type<sp/>=<sp/>1)<sp/>:</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/>_pi(psiAsciiTableOutput(name,<sp/>format_str,<sp/>dst_type))<sp/>{}</highlight></codeline>
<codeline lineno="375" refid="class_psi_ascii_table_output_1a6d407f3f9ad5b585ccb875bddfe2fd40" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_ascii_table_output_1a6d407f3f9ad5b585ccb875bddfe2fd40" kindref="member">~PsiAsciiTableOutput</ref>()<sp/>{<sp/>cleanup_pato(&amp;_pi);<sp/>}</highlight></codeline>
<codeline lineno="376"><highlight class="normal"></highlight></codeline>
<codeline lineno="384" refid="class_psi_ascii_table_output_1a36b070546cacc2522dca60b3eb7c1af1" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_table_output_1a36b070546cacc2522dca60b3eb7c1af1" kindref="member">send</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*data,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>len)<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>at_psi_send(_pi,<sp/>data,<sp/>len);<sp/>}</highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight></codeline>
<codeline lineno="391" refid="class_psi_ascii_table_output_1a5a4ecadfd80cdb8397eda38a0f178320" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_table_output_1a5a4ecadfd80cdb8397eda38a0f178320" kindref="member">send_eof</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>at_send_eof(_pi);<sp/>}</highlight></codeline>
<codeline lineno="392"><highlight class="normal"></highlight></codeline>
<codeline lineno="400" refid="class_psi_ascii_table_output_1af558c3508abf8c61122286166f8b09a1" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_table_output_1af558c3508abf8c61122286166f8b09a1" kindref="member">send_row</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nargs,<sp/>...)<sp/>{</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nfmt;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_pi.<ref refid="structpsi_ascii_table_output__t_1a2faf1afb6a1d4410a902d2c2074a8ea9" kindref="member">_type</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nfmt<sp/>=<sp/>count_formats(_pi.<ref refid="structpsi_ascii_table_output__t_1aa2c3f77a38c5907c9a4bf37d9483e12f" kindref="member">_table</ref>.<ref refid="structascii_table__t_1a030a09e49d0cb900ae0e3f6103229d14" kindref="member">format_str</ref>);</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nfmt<sp/>=<sp/>_pi.<ref refid="structpsi_ascii_table_output__t_1a6d499326c0db9a9d50e55dd5c0147141" kindref="member">_psi</ref>.<ref refid="structpsi_output__t_1a8ce9cd65bd278b405de93b96c595e33b" kindref="member">_nfmt</ref>;</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nargs<sp/>!=<sp/>nfmt)<sp/>{</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>error(</highlight><highlight class="stringliteral">&quot;PsiAsciiTableOutput(%s).send_row:<sp/>%d<sp/>args<sp/>provided,<sp/>but<sp/>format<sp/>expects<sp/>%d.\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_pi.<ref refid="structpsi_ascii_table_output__t_1aaccb8efb45387db8b563062beca99825" kindref="member">_name</ref>,<sp/>nargs,<sp/>nfmt);</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/>va_list<sp/>ap;</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/>va_start(ap,<sp/>nargs);</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>vsend_row(_pi,<sp/>ap);</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>va_end(ap);</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="428" refid="class_psi_ascii_table_output_1a9e72e278e8955142969c53e68a7b36e5" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_table_output_1a9e72e278e8955142969c53e68a7b36e5" kindref="member">send_array</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nargs,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nrows,<sp/>...)<sp/>{</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nfmt;</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_pi.<ref refid="structpsi_ascii_table_output__t_1a2faf1afb6a1d4410a902d2c2074a8ea9" kindref="member">_type</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nfmt<sp/>=<sp/>count_formats(_pi.<ref refid="structpsi_ascii_table_output__t_1aa2c3f77a38c5907c9a4bf37d9483e12f" kindref="member">_table</ref>.<ref refid="structascii_table__t_1a030a09e49d0cb900ae0e3f6103229d14" kindref="member">format_str</ref>);</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nfmt<sp/>=<sp/>_pi.<ref refid="structpsi_ascii_table_output__t_1a6d499326c0db9a9d50e55dd5c0147141" kindref="member">_psi</ref>.<ref refid="structpsi_output__t_1a8ce9cd65bd278b405de93b96c595e33b" kindref="member">_nfmt</ref>;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nargs<sp/>!=<sp/>nfmt)<sp/>{</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>error(</highlight><highlight class="stringliteral">&quot;PsiAsciiTableOutput(%s).send_array:<sp/>%d<sp/>args<sp/>provided,<sp/>but<sp/>format<sp/>expects<sp/>%d.\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_pi.<ref refid="structpsi_ascii_table_output__t_1aaccb8efb45387db8b563062beca99825" kindref="member">_name</ref>,<sp/>nargs,<sp/>nfmt);</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/>va_list<sp/>ap;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/>va_start(ap,<sp/>nrows);</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>vsend_array(_pi,<sp/>nrows,<sp/>ap);</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/>va_end(ap);</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="446"><highlight class="normal"></highlight></codeline>
<codeline lineno="447"><highlight class="normal">};</highlight></codeline>
<codeline lineno="448"><highlight class="normal"></highlight></codeline>
<codeline lineno="449"><highlight class="normal"></highlight></codeline>
<codeline lineno="458" refid="class_psi_ascii_table_input" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_psi_ascii_table_input" kindref="compound">PsiAsciiTableInput</ref><sp/>{</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><ref refid="structpsi_ascii_table_input__t" kindref="compound">psiAsciiTableInput_t</ref><sp/>_pi;</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight></codeline>
<codeline lineno="472" refid="class_psi_ascii_table_input_1a75626a21362193ab71e53b0e395f8d4c" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_ascii_table_input_1a75626a21362193ab71e53b0e395f8d4c" kindref="member">PsiAsciiTableInput</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*name,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>src_type<sp/>=<sp/>1)<sp/>:</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/>_pi(psiAsciiTableInput(name,<sp/>src_type))<sp/>{</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>input,<sp/>remove<sp/>precision<sp/>from<sp/>floats<sp/>to<sp/>avoid<sp/>confusing<sp/>vsscanf</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/>std::regex<sp/>e(</highlight><highlight class="stringliteral">&quot;%(?:\\d+\\$)?[+-]?(?:[<sp/>0]|&apos;.{1})?-?\\d*(?:\\.\\d+)?(?:[lhjztL])*([eEfFgG])&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>s(_pi.<ref refid="structpsi_ascii_table_input__t_1a0e5c09b570c4bd0b19c1049e0795f258" kindref="member">_psi</ref>.<ref refid="structpsi_input__t_1a4b30391a07118d0fc50315750a04f3fc" kindref="member">_fmt</ref>,<sp/>strlen(_pi.<ref refid="structpsi_ascii_table_input__t_1a0e5c09b570c4bd0b19c1049e0795f258" kindref="member">_psi</ref>.<ref refid="structpsi_input__t_1a4b30391a07118d0fc50315750a04f3fc" kindref="member">_fmt</ref>));</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>result;</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/>result<sp/>=<sp/>std::regex_replace(s,<sp/>e,<sp/></highlight><highlight class="stringliteral">&quot;%$1&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/>strcpy(_pi.<ref refid="structpsi_ascii_table_input__t_1a0e5c09b570c4bd0b19c1049e0795f258" kindref="member">_psi</ref>.<ref refid="structpsi_input__t_1a4b30391a07118d0fc50315750a04f3fc" kindref="member">_fmt</ref>,<sp/>result.c_str());</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="485" refid="class_psi_ascii_table_input_1abad6b196dddb862f33c760516aa673f0" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="class_psi_ascii_table_input_1abad6b196dddb862f33c760516aa673f0" kindref="member">~PsiAsciiTableInput</ref>()<sp/>{<sp/>cleanup_pati(&amp;_pi);<sp/>}</highlight></codeline>
<codeline lineno="486"><highlight class="normal"></highlight></codeline>
<codeline lineno="496" refid="class_psi_ascii_table_input_1ade41e5aa0af9200b81fec07c1512e6a2" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_table_input_1ade41e5aa0af9200b81fec07c1512e6a2" kindref="member">recv</ref>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>**data,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>len)<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>at_psi_recv(_pi,<sp/>data,<sp/>len);<sp/>}</highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="507" refid="class_psi_ascii_table_input_1a36ba3bb0a5fe6c98493bcc2bb8cc981d" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_table_input_1a36ba3bb0a5fe6c98493bcc2bb8cc981d" kindref="member">recv_row</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nargs,<sp/>...)<sp/>{</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nfmt;</highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_pi.<ref refid="structpsi_ascii_table_input__t_1a05fe77a32bb1f2457df4e190ae1e4dd7" kindref="member">_type</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nfmt<sp/>=<sp/>count_formats(_pi.<ref refid="structpsi_ascii_table_input__t_1ab3f77107765211a9ea744eb178ff9b87" kindref="member">_table</ref>.<ref refid="structascii_table__t_1a030a09e49d0cb900ae0e3f6103229d14" kindref="member">format_str</ref>);</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nfmt<sp/>=<sp/>_pi.<ref refid="structpsi_ascii_table_input__t_1a0e5c09b570c4bd0b19c1049e0795f258" kindref="member">_psi</ref>.<ref refid="structpsi_input__t_1a9496391ef31330ad5ea299c578f60be1" kindref="member">_nfmt</ref>;</highlight></codeline>
<codeline lineno="513"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nargs<sp/>!=<sp/>nfmt)<sp/>{</highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>error(</highlight><highlight class="stringliteral">&quot;PsiAsciiTableInput(%s).recv_row:<sp/>%d<sp/>args<sp/>provided,<sp/>but<sp/>format<sp/>expects<sp/>%d.\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="515"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_pi.<ref refid="structpsi_ascii_table_input__t_1afd75b93efee18f35d9d14960254dcc0c" kindref="member">_name</ref>,<sp/>nargs,<sp/>nfmt);</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="518"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/>va_list<sp/>ap;</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/>va_start(ap,<sp/>nargs);</highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>vrecv_row(_pi,<sp/>ap);</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/>va_end(ap);</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="525"><highlight class="normal"></highlight></codeline>
<codeline lineno="534" refid="class_psi_ascii_table_input_1a6485b575238765c26434319307e27f6c" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_psi_ascii_table_input_1a6485b575238765c26434319307e27f6c" kindref="member">recv_array</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nargs,<sp/>...)<sp/>{</highlight></codeline>
<codeline lineno="535"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>nfmt;</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(_pi.<ref refid="structpsi_ascii_table_input__t_1a05fe77a32bb1f2457df4e190ae1e4dd7" kindref="member">_type</ref><sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="537"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nfmt<sp/>=<sp/>count_formats(_pi.<ref refid="structpsi_ascii_table_input__t_1ab3f77107765211a9ea744eb178ff9b87" kindref="member">_table</ref>.<ref refid="structascii_table__t_1a030a09e49d0cb900ae0e3f6103229d14" kindref="member">format_str</ref>);</highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>nfmt<sp/>=<sp/>_pi.<ref refid="structpsi_ascii_table_input__t_1a0e5c09b570c4bd0b19c1049e0795f258" kindref="member">_psi</ref>.<ref refid="structpsi_input__t_1a9496391ef31330ad5ea299c578f60be1" kindref="member">_nfmt</ref>;</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(nargs<sp/>!=<sp/>nfmt)<sp/>{</highlight></codeline>
<codeline lineno="541"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>error(</highlight><highlight class="stringliteral">&quot;PsiAsciiTableInput(%s).recv_array:<sp/>%d<sp/>args<sp/>provided,<sp/>but<sp/>format<sp/>expects<sp/>%d.\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_pi.<ref refid="structpsi_ascii_table_input__t_1afd75b93efee18f35d9d14960254dcc0c" kindref="member">_name</ref>,<sp/>nargs,<sp/>nfmt);</highlight></codeline>
<codeline lineno="543"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/>va_list<sp/>ap;</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/>va_start(ap,<sp/>nargs);</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>vrecv_array(_pi,<sp/>ap);</highlight></codeline>
<codeline lineno="549"><highlight class="normal"><sp/><sp/><sp/><sp/>va_end(ap);</highlight></codeline>
<codeline lineno="550"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="552"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="553"><highlight class="normal">};</highlight></codeline>
    </programlisting>
    <location file="/home/ubuntu/langmm/cis_iterface/cis_interface/interface/PsiInterface.hpp"/>
  </compounddef>
</doxygen>
